function isURL(e){return!!new RegExp("^((https|http|ftp)://)?(([\\w_!~*'()\\.&=+$%-]+: )?[\\w_!~*'()\\.&=+$%-]+@)?(([0-9]{1,3}\\.){3}[0-9]{1,3}|(localhost)|([\\w_!~*'()-]+\\.)*\\w+\\.[a-zA-Z]{1,6})(:[0-9]{1,5})?((/?)|(/[\\w_!~*'()\\.;?:@&=+$,%#-]+)+/?)$","i").test(encodeURI(e))}$("html").eq(0).on("click",(e=>{console.log(e.target)})),console.log($("html").eq(0));const local=localStorage.getItem("cache"),localObj=JSON.parse(local);let $tagAdd=$(".tagAdd"),i=0,hashMap=localObj;function repaint(){$(`\n        <li class="tag tagStyle">\n            <div class="starLogo"><img src="https://favicon.cccyun.cc/${hashMap[i].logo}" alt=""></div>\n            <div class="webUrl">${hashMap[i].url}</div>\n            <div class="close"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close"></use></svg></div>\n        </li>`).insertBefore($tagAdd),i++}function newAlert(e){$(`\n        <div id="msg">\n            <div id="msg_top">${e}<div id="msg_tips"></div></div>\n            <div id="msg_cont"><input id="alertValue" type="text"></div>\n            <div id="msg_confirm">确定</div>\n            <div id="msg_cancel">取消</div>\n        </div>`).insertBefore($`body`)}null==hashMap&&(hashMap=[{logo:"https://github.com",url:"github.com"}]),hashMap.forEach((()=>{repaint()})),$(".tagAdd").on("click",(()=>{newAlert("请输入你要收藏的网址"),$("#msg_cancel").click((()=>{$("#msg").remove()})),$("#msg_confirm").on("click",(()=>{let e=document.getElementById("alertValue").value;if(e.length>0){let t;console.log(">0"),t=-1===e.indexOf("http")?"https://"+e:-1===e.indexOf("https")?e.replace("http://","https://"):e;let a=e.replace("https://","").replace("http://","").replace("www.","");isURL(e)?(hashMap.push({logo:t,url:a}),repaint(),$("#msg").remove()):$("#msg_top")[0].children[0].innerText="请输入正确的网址哦"}else $("#msg_top")[0].children[0].innerText="请输入一些东西哦"}))}));let timer=null,startTime="",endTime="",tag=Array.from(document.querySelectorAll(".tag"));tag.forEach((e=>{e.addEventListener("touchstart",(()=>{startTime=+new Date,timer=setTimeout((()=>{$(".tagStyle .close").css("display","block")}),500)})),e.addEventListener("touchend",(e=>{endTime=+new Date,clearTimeout(timer),endTime-startTime<700&&"none"===$(".tagStyle .close").css("display")&&(window.location="https://"+e.currentTarget.children[1].innerText)}))})),$("html").on("touchstart",(e=>{"tagstyle"!==e.target.className.toLowerCase()&&$(".close").css("display","none")}));let $tag=$(".tag");$tag.on("click",(e=>{if("svg"===e.target.tagName.toLowerCase()||"use"===e.target.tagName.toLowerCase()||"close"===e.target.className.toLowerCase()){e.currentTarget.setAttribute("style","display:none");let t=0;for(;null!=(e.currentTarget=e.currentTarget.previousSibling);)t++;hashMap.splice(t-1,1)}})),$(".tagStyle").on("click",(e=>{window.location=e.currentTarget.childNodes[1].childNodes[0].src.replace("https://favicon.cccyun.cc/","")})),window.onbeforeunload=()=>{const e=JSON.stringify(hashMap);localStorage.setItem("cache",e)},$(document).on("keypress",(e=>{let t=document.getElementById("searchInput").value;13===e.keyCode&&(!0!==$.contains(document,document.getElementById("msg"))?t.length>0&&(window.location="https://www.baidu.com/s?wd="+t):(console.log("yep"),$("#msg_confirm").click()))}));
//# sourceMappingURL=index.c66e0497.js.map

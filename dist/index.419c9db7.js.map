{"mappings":"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","sources":["project/web-nav/src/index.js"],"sourcesContent":["// 网址正则匹配\r\nfunction isURL(url) {\r\n    const strRegex = '^((https|http|ftp)://)?'//(https或http或ftp):// 可有可无\r\n        + '(([\\\\w_!~*\\'()\\\\.&=+$%-]+: )?[\\\\w_!~*\\'()\\\\.&=+$%-]+@)?' //ftp的user@ 可有可无\r\n        + '(([0-9]{1,3}\\\\.){3}[0-9]{1,3}' // IP形式的URL- 3位数字.3位数字.3位数字.3位数字\r\n        + '|' // 允许IP和DOMAIN（域名）\r\n        + '(localhost)|'    //匹配localhost\r\n        + '([\\\\w_!~*\\'()-]+\\\\.)*' // 域名- 至少一个[英文或数字_!~*\\'()-]加上.\r\n        + '\\\\w+\\\\.' // 一级域名 -英文或数字 加上.\r\n        + '[a-zA-Z]{1,6})' // 顶级域名- 1-6位英文\r\n        + '(:[0-9]{1,5})?' // 端口- :80 ,1-5位数字\r\n        + '((/?)|' // url无参数结尾 - 斜杆或这没有\r\n        + '(/[\\\\w_!~*\\'()\\\\.;?:@&=+$,%#-]+)+/?)$';//请求参数结尾- 英文或数字和[]内的各种字符\r\n    const re = new RegExp(strRegex, 'i'); // 大小写不敏感\r\n    if (re.test(encodeURI(url))) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n// 调试器\r\n// $(`html`).eq(0).on(`click`, (e) => {\r\n//     console.log(e.target)\r\n//     console.log(e.target.parentNode)\r\n// })\r\n// localstorage\r\nconst local = localStorage.getItem(`cache`)\r\nconst localObj = JSON.parse(local)\r\nlet $tagAdd = $(`.tagAdd`)\r\nlet i = 0\r\nlet hashMap = localObj\r\nif (hashMap === undefined || hashMap === null) {\r\n    hashMap = [{\r\n        logo: `https://github.com`,\r\n        url: `github.com`\r\n    }]\r\n}\r\n// 通过localstorage 重绘收藏夹\r\nfunction repaint() {\r\n    $(`\r\n        <li class=\"tag tagStyle\">\r\n            <div class=\"starLogo\"><img src=\"https://favicon.cccyun.cc/${hashMap[i].logo}\" alt=\"\"></div>\r\n            <div class=\"webUrl\">${hashMap[i].url}</div>\r\n            <div class=\"close\"><svg class=\"icon\" aria-hidden=\"true\"><use xlink:href=\"#icon-close\"></use></svg></div>\r\n        </li>`\r\n    ).insertBefore($tagAdd)\r\n    i++\r\n}\r\n//哈希\r\nhashMap.forEach(() => {\r\n    repaint()\r\n})\r\n// 修改弹窗\r\nfunction newAlert(e) {\r\n    $(`\r\n        <div id=\"msg\">\r\n            <div id=\"msg_top\">${e}<div id=\"msg_tips\"></div></div>\r\n            <div id=\"msg_cont\"><input id=\"alertValue\" type=\"text\"></div>\r\n            <div id=\"msg_confirm\">确定</div>\r\n            <div id=\"msg_cancel\">取消</div>\r\n        </div>`).insertBefore($`body`)\r\n}\r\n// 添加书签\r\n$('.tagAdd').on('click', () => {\r\n    newAlert(`请输入你要收藏的网址`)\r\n    $(`#msg_cancel`).click(() => {\r\n        $(`#msg`).remove();\r\n    })\r\n    $(`#msg_confirm`).on(`click`, () => {\r\n        let url = document.getElementById(`alertValue`).value\r\n        if (url.length > 0) {\r\n            let completeUrl\r\n            if (url.indexOf(`http` || `https`) === -1) {\r\n                completeUrl = `https://` + url\r\n            } else if (url.indexOf(`https`) === -1) {\r\n                completeUrl = url.replace(`http://`, `https://`)\r\n            } else {\r\n                completeUrl = url\r\n            }\r\n            let shortUrl = url\r\n                .replace(`https://`, ``)\r\n                .replace(`http://`, ``)\r\n                .replace(`www.`, ``)\r\n            if (isURL(url)) {\r\n                hashMap.push({\r\n                    logo: completeUrl,\r\n                    url: shortUrl\r\n                })\r\n                repaint()\r\n                $(`#msg`).remove()\r\n            }else {\r\n                $(`#msg_top`)[0].children[0].innerText = `请输入正确的网址哦`\r\n            }\r\n        }else {\r\n            $(`#msg_top`)[0].children[0].innerText = `请输入一些东西哦`\r\n        }}\r\n    )\r\n    })\r\n// 手机端长按\r\n    let timer = null\r\n    let startTime = ``\r\n    let endTime = ``\r\n    let tag = Array.from(document.querySelectorAll(`.tag`))\r\n    tag.forEach((e) => {\r\n        e.addEventListener(`touchstart`, () => {\r\n            startTime = +new Date()\r\n            timer = setTimeout(() => {\r\n                $(`.tagStyle .close`).css(`display`, `block`)\r\n            }, 500)\r\n        })\r\n        e.addEventListener(`touchend`, (ele) => {\r\n                endTime = +new Date()\r\n                clearTimeout(timer)\r\n                if (endTime - startTime < 700) {\r\n                    if ($(`.tagStyle .close`).css(`display`) === `none`) {\r\n                        window.location = `https://` + (ele.currentTarget.children[1].innerText)\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    })\r\n    $(`html`).on(`touchstart`, (e) => {\r\n        if (e.target.className.toLowerCase() !== `tagstyle`) {\r\n            $(`.close`).css(`display`, `none`)\r\n        }\r\n    })\r\n// 收藏栏点击事件\r\n// 遍历看自己是第几个儿子来删除对应的缓存\r\n// 监听自己\r\n// $(`.tag`).on(`click`, (e) => {\r\n//         console.log(`clicked`)\r\n//         if (e.target.tagName.toLowerCase() === `svg` || e.target.tagName.toLowerCase() === `use` || e.target.className.toLowerCase() === `close`) {  //定位在X上\r\n//             console.log(`if start`)\r\n//             e.currentTarget.setAttribute(`style`, `display:none`)\r\n//             console.log(`if end`)\r\n//             let t = 0;\r\n//             while ((e.currentTarget = e.currentTarget.previousSibling) !== null) t++;\r\n//             hashMap.splice(t - 1, 1)\r\n//             i--\r\n//             console.log(`delete   `+hashMap)\r\n//             repaint()\r\n//         }else {\r\n//             window.location = e.currentTarget.childNodes[1].childNodes[0].src.replace(`https://favicon.cccyun.cc/`, ``)\r\n//         }\r\n//     })\r\n// 监听在父元素上\r\n$(`.starList`).on(`click`, (e) => {\r\n    let $closeTag = $(e.target).parentsUntil(e.currentTarget, `.tag`)\r\n    if (e.target.tagName.toLowerCase() === `svg` || e.target.tagName.toLowerCase() === `use` || e.target.className.toLowerCase() === `close`) {  //定位在X上\r\n        $closeTag[0].remove()\r\n        let t = 0;\r\n        while (($closeTag[0] = $closeTag[0].previousSibling) !== null) t++;\r\n        hashMap.splice(t - 1, 1)\r\n        i--\r\n        repaint()\r\n    }else {\r\n        window.location = $closeTag.find(`img`)[0].src.replace(`https://favicon.cccyun.cc/`, ``)\r\n    }\r\n})\r\n\r\n$(`.webStyle`).on(`click`,(e) => {\r\n    let $e = $(e.currentTarget)\r\n    console.log($e)\r\n    console.log($e.find(`img`)[0].src)\r\n    window.location = $e.find(`img`)[0].src.replace(`https://favicon.cccyun.cc/`, ``)\r\n})\r\n\r\n// localStorage\r\n    window.onbeforeunload = () => {\r\n        const local = JSON.stringify(hashMap)\r\n        localStorage.setItem(`cache`, local)\r\n    }\r\n// 回车事件 搜索框搜索 提交栏提交\r\n    $(document).on(`keypress`, (e) => {\r\n        let searchValue = document.getElementById(\"searchInput\").value\r\n        if (e.keyCode === 13) {\r\n            if ($.contains(document, document.getElementById(`msg`)) !== true) {\r\n                if (searchValue.length > 0) {\r\n                    window.location = `https://www.baidu.com/s?wd=` + searchValue\r\n                }\r\n            }else {\r\n                $(`#msg_confirm`).click()\r\n            }\r\n        }\r\n    })\r\n\r\n"],"names":["isURL","url","RegExp","test","encodeURI","local","localStorage","getItem","localObj","JSON","parse","$tagAdd","$","i","hashMap","repaint","logo","insertBefore","newAlert","e","forEach","on","click","remove","document","getElementById","value","length","completeUrl","indexOf","replace","shortUrl","push","children","innerText","timer","startTime","endTime","tag","Array","from","querySelectorAll","addEventListener","Date","setTimeout","css","ele","clearTimeout","window","location","currentTarget","target","className","toLowerCase","$closeTag","parentsUntil","tagName","t","previousSibling","splice","find","src","$e","console","log","onbeforeunload","local1","stringify","setItem","searchValue","keyCode","contains"],"version":3,"file":"index.419c9db7.js.map"}
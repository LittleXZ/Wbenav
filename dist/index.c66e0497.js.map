{"mappings":"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","sources":["project/web-nav/src/index.js"],"sourcesContent":["// 网址正则匹配\r\nfunction isURL(url) {\r\n    const strRegex = '^((https|http|ftp)://)?'//(https或http或ftp):// 可有可无\r\n        + '(([\\\\w_!~*\\'()\\\\.&=+$%-]+: )?[\\\\w_!~*\\'()\\\\.&=+$%-]+@)?' //ftp的user@ 可有可无\r\n        + '(([0-9]{1,3}\\\\.){3}[0-9]{1,3}' // IP形式的URL- 3位数字.3位数字.3位数字.3位数字\r\n        + '|' // 允许IP和DOMAIN（域名）\r\n        + '(localhost)|'    //匹配localhost\r\n        + '([\\\\w_!~*\\'()-]+\\\\.)*' // 域名- 至少一个[英文或数字_!~*\\'()-]加上.\r\n        + '\\\\w+\\\\.' // 一级域名 -英文或数字 加上.\r\n        + '[a-zA-Z]{1,6})' // 顶级域名- 1-6位英文\r\n        + '(:[0-9]{1,5})?' // 端口- :80 ,1-5位数字\r\n        + '((/?)|' // url无参数结尾 - 斜杆或这没有\r\n        + '(/[\\\\w_!~*\\'()\\\\.;?:@&=+$,%#-]+)+/?)$';//请求参数结尾- 英文或数字和[]内的各种字符\r\n    const re = new RegExp(strRegex, 'i'); // 大小写不敏感\r\n    if (re.test(encodeURI(url))) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n// 调试器\r\n$(`html`).eq(0).on(`click`, (e) => {\r\n    console.log(e.target)\r\n})\r\nconsole.log($(`html`).eq(0))\r\n// localstorage\r\nconst local = localStorage.getItem(`cache`)\r\nconst localObj = JSON.parse(local)\r\nlet $tagAdd = $(`.tagAdd`)\r\nlet i = 0\r\nlet hashMap = localObj\r\nif (hashMap === undefined || hashMap === null) {\r\n    hashMap = [{\r\n        logo: `https://github.com`,\r\n        url: `github.com`\r\n    }]\r\n}\r\n// 通过localstorage 重绘收藏夹\r\nfunction repaint() {\r\n    $(`\r\n        <li class=\"tag tagStyle\">\r\n            <div class=\"starLogo\"><img src=\"https://favicon.cccyun.cc/${hashMap[i].logo}\" alt=\"\"></div>\r\n            <div class=\"webUrl\">${hashMap[i].url}</div>\r\n            <div class=\"close\"><svg class=\"icon\" aria-hidden=\"true\"><use xlink:href=\"#icon-close\"></use></svg></div>\r\n        </li>`\r\n    ).insertBefore($tagAdd)\r\n    i++\r\n}\r\n//哈希\r\nhashMap.forEach(() => {\r\n    repaint()\r\n})\r\n// 修改弹窗\r\nfunction newAlert(e) {\r\n    $(`\r\n        <div id=\"msg\">\r\n            <div id=\"msg_top\">${e}<div id=\"msg_tips\"></div></div>\r\n            <div id=\"msg_cont\"><input id=\"alertValue\" type=\"text\"></div>\r\n            <div id=\"msg_confirm\">确定</div>\r\n            <div id=\"msg_cancel\">取消</div>\r\n        </div>`).insertBefore($`body`)\r\n}\r\n// 添加书签\r\n$('.tagAdd').on('click', () => {\r\n    newAlert(`请输入你要收藏的网址`)\r\n    $(`#msg_cancel`).click(() => {\r\n        $(`#msg`).remove();\r\n    })\r\n    $(`#msg_confirm`).on(`click`, () => {\r\n        let url = document.getElementById(`alertValue`).value\r\n        if (url.length > 0) {\r\n            console.log(`>0`)\r\n            let completeUrl\r\n            if (url.indexOf(`http` || `https`) === -1) {\r\n                completeUrl = `https://` + url\r\n            } else if (url.indexOf(`https`) === -1) {\r\n                completeUrl = url.replace(`http://`, `https://`)\r\n            } else {\r\n                completeUrl = url\r\n            }\r\n            let shortUrl = url\r\n                .replace(`https://`, ``)\r\n                .replace(`http://`, ``)\r\n                .replace(`www.`, ``)\r\n            if (isURL(url)) {\r\n                hashMap.push({\r\n                    logo: completeUrl,\r\n                    url: shortUrl\r\n                })\r\n                repaint()\r\n                $(`#msg`).remove()\r\n            }else {\r\n                $(`#msg_top`)[0].children[0].innerText = `请输入正确的网址哦`\r\n            }\r\n        }else {\r\n            $(`#msg_top`)[0].children[0].innerText = `请输入一些东西哦`\r\n        }}\r\n    )\r\n    })\r\n// 手机端长按\r\n    let timer = null\r\n    let startTime = ``\r\n    let endTime = ``\r\n    let tag = Array.from(document.querySelectorAll(`.tag`))\r\n    tag.forEach((e) => {\r\n        e.addEventListener(`touchstart`, () => {\r\n            startTime = +new Date()\r\n            timer = setTimeout(() => {\r\n                $(`.tagStyle .close`).css(`display`, `block`)\r\n            }, 500)\r\n        })\r\n        e.addEventListener(`touchend`, (ele) => {\r\n                endTime = +new Date()\r\n                clearTimeout(timer)\r\n                if (endTime - startTime < 700) {\r\n                    if ($(`.tagStyle .close`).css(`display`) === `none`) {\r\n                        window.location = `https://` + (ele.currentTarget.children[1].innerText)\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    })\r\n    $(`html`).on(`touchstart`, (e) => {\r\n        if (e.target.className.toLowerCase() !== `tagstyle`) {\r\n            $(`.close`).css(`display`, `none`)\r\n        }\r\n    })\r\n// 遍历看自己是第几个儿子来删除对应的缓存\r\n    let $tag = $(`.tag`)\r\n    $tag.on(`click`, (e) => {\r\n        if (e.target.tagName.toLowerCase() === `svg` || e.target.tagName.toLowerCase() === `use` || e.target.className.toLowerCase() === `close`) {  //定位在X上\r\n            e.currentTarget.setAttribute(`style`, `display:none`)\r\n            let i = 0;\r\n            while ((e.currentTarget = e.currentTarget.previousSibling) != null) i++;\r\n            hashMap.splice(i - 1, 1)\r\n        }\r\n    })\r\n// 第一栏点击事件\r\n    $(`.tagStyle`).on(`click`, (e) => {\r\n        window.location = e.currentTarget.childNodes[1].childNodes[0].src.replace(`https://favicon.cccyun.cc/`, ``)\r\n    })\r\n// localStorage\r\n    window.onbeforeunload = () => {\r\n        const local = JSON.stringify(hashMap)\r\n        localStorage.setItem(`cache`, local)\r\n    }\r\n// 回车事件 搜索框搜索 提交栏提交\r\n    $(document).on(`keypress`, (e) => {\r\n        let searchValue = document.getElementById(\"searchInput\").value\r\n        if (e.keyCode === 13) {\r\n            if ($.contains(document, document.getElementById(`msg`)) !== true) {\r\n                if (searchValue.length > 0) {\r\n                    window.location = `https://www.baidu.com/s?wd=` + searchValue\r\n                }\r\n            }else {\r\n                console.log(`yep`)\r\n                $(`#msg_confirm`).click()\r\n            }\r\n        }\r\n    })\r\n\r\n"],"names":["isURL","url","RegExp","test","encodeURI","$","eq","on","e","console","log","target","local","localStorage","getItem","localObj","JSON","parse","$tagAdd","i","hashMap","repaint","logo","insertBefore","newAlert","forEach","click","remove","document","getElementById","value","length","completeUrl","indexOf","replace","shortUrl","push","children","innerText","timer","startTime","endTime","tag","Array","from","querySelectorAll","addEventListener","Date","setTimeout","css","ele","clearTimeout","window","location","currentTarget","className","toLowerCase","$tag","tagName","setAttribute","i1","previousSibling","splice","childNodes","src","onbeforeunload","local1","stringify","setItem","searchValue","keyCode","contains"],"version":3,"file":"index.c66e0497.js.map"}
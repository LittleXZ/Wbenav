{"mappings":"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","sources":["project/web-nav/src/index.js"],"sourcesContent":["// 网址正则匹配\r\nfunction isURL(url) {\r\n    const strRegex = '^((https|http|ftp)://)?'//(https或http或ftp):// 可有可无\r\n        + '(([\\\\w_!~*\\'()\\\\.&=+$%-]+: )?[\\\\w_!~*\\'()\\\\.&=+$%-]+@)?' //ftp的user@ 可有可无\r\n        + '(([0-9]{1,3}\\\\.){3}[0-9]{1,3}' // IP形式的URL- 3位数字.3位数字.3位数字.3位数字\r\n        + '|' // 允许IP和DOMAIN（域名）\r\n        + '(localhost)|'    //匹配localhost\r\n        + '([\\\\w_!~*\\'()-]+\\\\.)*' // 域名- 至少一个[英文或数字_!~*\\'()-]加上.\r\n        + '\\\\w+\\\\.' // 一级域名 -英文或数字 加上.\r\n        + '[a-zA-Z]{1,6})' // 顶级域名- 1-6位英文\r\n        + '(:[0-9]{1,5})?' // 端口- :80 ,1-5位数字\r\n        + '((/?)|' // url无参数结尾 - 斜杆或这没有\r\n        + '(/[\\\\w_!~*\\'()\\\\.;?:@&=+$,%#-]+)+/?)$';//请求参数结尾- 英文或数字和[]内的各种字符\r\n    const re = new RegExp(strRegex, 'i'); // 大小写不敏感\r\n    if (re.test(encodeURI(url))) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\nconst local = localStorage.getItem(`cache`)\r\nconst localObj = JSON.parse(local)\r\nlet $tagAdd = $(`.tagAdd`)\r\nlet i = 0\r\nlet hashMap = localObj\r\nif (hashMap === undefined || hashMap === null) {\r\n    hashMap = [{\r\n        logo: `https://github.com`,\r\n        url: `github.com`\r\n    }\r\n    ]\r\n}\r\n\r\nfunction repaint() {\r\n    $(`\r\n            <li class=\"tag tagStyle\">\r\n                <div class=\"starLogo\"><img src=\"https://favicon.cccyun.cc/${hashMap[i].logo}\" alt=\"\"></div>\r\n                <div class=\"webUrl\">${hashMap[i].url}</div>\r\n                <div class=\"close\"><svg class=\"icon\" aria-hidden=\"true\"><use xlink:href=\"#icon-close\"></use></svg></div>\r\n            </li>`\r\n    ).insertBefore($tagAdd)\r\n    i++\r\n}\r\n\r\nhashMap.forEach(() => {\r\n    repaint()\r\n})\r\n\r\n$('.tagAdd').on('click', () => {\r\n    let url = window.prompt(`请输入你要添加的网址`)\r\n    let completeUrl\r\n    if (url.indexOf(`http` || `https`) === -1) {\r\n        completeUrl = `https://` + url\r\n    } else if (url.indexOf(`https`) === -1) {\r\n        completeUrl = url.replace(`http://`, `https://`)\r\n    } else {\r\n        completeUrl = url\r\n    }\r\n    let shortUrl = url\r\n        .replace(`https://`, ``)\r\n        .replace(`http://`, ``)\r\n        .replace(`www.`, ``)\r\n\r\n    if (isURL(url)) {\r\n        hashMap.push({\r\n            logo: completeUrl,\r\n            url: shortUrl\r\n        })\r\n        repaint()\r\n    } else {\r\n        alert('请输入正确的网址')\r\n    }\r\n})\r\n\r\n// 手机端长按\r\nlet timer = null\r\nlet startTime = ``\r\nlet endTime = ``\r\nlet tag = Array.from(document.querySelectorAll(`.tag`))\r\ntag.forEach((e) => {\r\n    e.addEventListener(`touchstart`, () => {\r\n        startTime = +new Date()\r\n        timer = setTimeout(() => {\r\n            $(`.tagStyle .close`).css(`display`, `block`)\r\n        }, 500)\r\n    })\r\n    e.addEventListener(`touchend`, (ele) => {\r\n            endTime = +new Date()\r\n            clearTimeout(timer)\r\n            if (endTime - startTime < 700) {\r\n                if ($(`.tagStyle .close`).css(`display`) === `none`){\r\n                    window.location = `https://`+(ele.currentTarget.children[1].innerText)\r\n                    console.log(`打开网站`)\r\n                }\r\n            }\r\n        }\r\n    )\r\n})\r\n\r\nlet $tag = $(`.tag`)\r\n$tag.on(`click`,(e)=>{\r\n    if(e.target.tagName.toLowerCase() === `svg` || e.target.tagName.toLowerCase() === `use` || e.target.className.toLowerCase() === `close`){  //定位在X上\r\n        e.currentTarget.setAttribute(`style`,`display:none`)\r\n        let i = 0;  // 遍历看自己是第几个儿子来删除对应的缓存\r\n        while((e.currentTarget = e.currentTarget.previousSibling) != null) i++;\r\n        hashMap.splice(i-1,1)\r\n        e.stopPropagation()\r\n    }\r\n    e.isPropagationStopped()\r\n})\r\n\r\n$(`.webStyle`).on(`click`,(e)=>{\r\n    console.log(e.currentTarget)\r\n    let webUrl = e.currentTarget.children[0].children[0].src.replace(`https://favicon.cccyun.cc/`,``)\r\n    window.location = webUrl\r\n    if (e.target.className.toLowerCase() === `webStyle`){\r\n        console.log(`open`)\r\n    }\r\n})\r\n\r\n// localStorage\r\nwindow.onbeforeunload = () => {\r\n    const local = JSON.stringify(hashMap)\r\n    localStorage.setItem(`cache`, local)\r\n}\r\n\r\n$(`html`).on(`click`,(e)=>{\r\n    if (e.target.className.toLowerCase() !== `tagstyle`){\r\n        $(`.close`).css(`display`,`none`)\r\n    }\r\n})"],"names":[],"version":3,"file":"index.afb2cb84.js.map","sourceRoot":"/__parcel_source_root/"}